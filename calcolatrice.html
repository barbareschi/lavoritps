<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Calcolatrice</title>

    <style>
        body {
            background: #1e1e2f;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .calcolatrice {
            background: #2b2b3d;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            width: 280px;
        }

        h3 {
            text-align: center;
            color: #fff;
            margin-bottom: 15px;
        }

        #display {
            width: 100%;
            height: 50px;
            font-size: 22px;
            text-align: right;
            padding: 10px;
            border: none;
            border-radius: 10px;
            margin-bottom: 15px;
            background: #111;
            color: #0f0;
        }

        .tasti {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        button {
            height: 50px;
            font-size: 18px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background: #3f3f5e;
            color: white;
            transition: 0.2s;
        }

        button:hover {
            background: #5a5aa3;
        }

        .operatore {
            background: #ff8c00;
        }

        .operatore:hover {
            background: #ffa733;
        }

        .uguale {
            background: #00c853;
            grid-column: span 2;
        }

        .uguale:hover {
            background: #2ee47b;
        }

        .clear {
            background: #e53935;
        }

        .clear:hover {
            background: #ff6f60;
        }
    </style>
</head>
<body>

<div class="calcolatrice">
    <h3>Calcolatrice</h3>

    <input type="text" id="display" value="0" disabled>

    <div class="tasti">
        <button onclick="aggiungi('7')">7</button>
        <button onclick="aggiungi('8')">8</button>
        <button onclick="aggiungi('9')">9</button>
        <button class="operatore" onclick="aggiungi('+')">+</button>

        <button onclick="aggiungi('4')">4</button>
        <button onclick="aggiungi('5')">5</button>
        <button onclick="aggiungi('6')">6</button>
        <button class="operatore" onclick="aggiungi('-')">−</button>

        <button onclick="aggiungi('1')">1</button>
        <button onclick="aggiungi('2')">2</button>
        <button onclick="aggiungi('3')">3</button>
        <button class="operatore" onclick="aggiungi('*')">×</button>

        <button onclick="aggiungi('0')">0</button>
        <button onclick="aggiungi('.')">.</button>
        <button class="uguale" onclick="calcola()">=</button>

        <button class="operatore" onclick="aggiungi('/')">÷</button>

        <button onclick="radice()">√</button>
        <button onclick="aggiungi('^')">^</button>
        <button onclick="percentuale()">%</button>
        <button class="clear" onclick="cancella()">C</button>

        <button onclick="sin()">sin</button>
        <button onclick="cos()">cos</button>
        <button onclick="tan()">tan</button>
    </div>
</div>

<script>
/* JS IDENTICO AL TUO */
var schermo = document.getElementById("display");
var memoriaValore = 0;

function aggiungi(valore) {
    if (schermo.value === "0") schermo.value = valore;
    else schermo.value += valore;
}

function cancella() { schermo.value = "0"; }
function percentuale() { schermo.value = parseFloat(schermo.value) / 100; }
function sin() { schermo.value = Math.sin(parseFloat(schermo.value) * Math.PI / 180); }
function cos() { schermo.value = Math.cos(parseFloat(schermo.value) * Math.PI / 180); }
function tan() { schermo.value = Math.tan(parseFloat(schermo.value) * Math.PI / 180); }
function radice() { schermo.value = Math.sqrt(parseFloat(schermo.value)); }

function calcola() {
    let testo = schermo.value;
    let elementi = [];
    let numero = "";

    for (let c of testo) {
        if ((c >= '0' && c <= '9') || c === '.') numero += c;
        else { elementi.push(numero, c); numero = ""; }
    }
    elementi.push(numero);

    for (let i = 1; i < elementi.length; i += 2) {
        if (elementi[i] === '^') {
            let r = Math.pow(parseFloat(elementi[i-1]), parseFloat(elementi[i+1]));
            elementi.splice(i-1, 3, r.toString());
            i -= 2;
        }
    }

    for (let i = 1; i < elementi.length; i += 2) {
        if (elementi[i] === '*' || elementi[i] === '/') {
            let r = elementi[i] === '*' ?
                parseFloat(elementi[i-1]) * parseFloat(elementi[i+1]) :
                parseFloat(elementi[i-1]) / parseFloat(elementi[i+1]);
            elementi.splice(i-1, 3, r.toString());
            i -= 2;
        }
    }

    for (let i = 1; i < elementi.length; i += 2) {
        let r = elementi[i] === '+' ?
            parseFloat(elementi[i-1]) + parseFloat(elementi[i+1]) :
            parseFloat(elementi[i-1]) - parseFloat(elementi[i+1]);
        elementi.splice(i-1, 3, r.toString());
        i -= 2;
    }

    schermo.value = elementi[0];
}
</script>

</body>
</html>
